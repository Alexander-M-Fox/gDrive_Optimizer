<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: App.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: App.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>import React, {useState} from 'react';
import './App.css';
import TreeViewComponent from './TreeViewComponent.js'
import {Nav, Navbar} from "react-bootstrap";
import {GoogleLogin, GoogleLogout} from "react-google-login";

const CLIENT_ID = "796101496132-pif752amrr7vjvq8jqsvo9rf18mg4t24.apps.googleusercontent.com"

function App() {
  const [userName, setUserName] = useState("");
  const [userEmail, setUserEmail] = useState("");
  const [loggedInState, setLoggedInState] = useState(false);
  const [accessToken, setAccessToken] = useState("");

  /**
   * @description This is the function callback when login to Google is successful
   * */
  let onLoginSuccess = (response) => {
    let userProfile = response.profileObj
    setUserName(userProfile.givenName + " " + userProfile.familyName)

    setLoggedInState(true)
    console.log("Login successful.")
    setAccessToken(response.tokenObj.access_token)
    setUserEmail(userProfile.email)
  }

  /**
   * @description This is the function callback when login to Google fails
   * */
  let onLoginFail = (response) => {
    console.error({result: "Login failed.", output: response})
  }

  /**
   * @description This is the function callback when you logout from Google
   * */
  let onLogoutSuccess = () => {
    console.log("Logout successful.")
    setLoggedInState(false)
    setAccessToken("")
    setUserName("")
    setUserEmail("")
  }

  return (
    &lt;div className="App">
      &lt;Navbar bg="light" sticky="top" expand="sm">
        &lt;Navbar.Brand>gDrive Optimizer&lt;/Navbar.Brand>
        &lt;Navbar.Toggle aria-controls="basic-navbar-nav"/>
        &lt;Navbar.Collapse id="basic-navbar-nav">
          &lt;Nav className="mr-auto">
            {/*&lt;Nav.Link href="#home">Home&lt;/Nav.Link>*/}
            {/*&lt;Nav.Link href="#link">Link&lt;/Nav.Link>*/}
          &lt;/Nav>
          &lt;div style={{paddingRight: "10px"}}>
            {loggedInState &amp;&amp; &lt;div>Logged in as &lt;b>{userName}&lt;/b>&lt;/div>}
          &lt;/div>
          {!loggedInState &amp;&amp; &lt;GoogleLogin
            clientId={CLIENT_ID}
            buttonText="Login"
            scope="https://www.googleapis.com/auth/drive"
            onSuccess={onLoginSuccess}
            onFailure={onLoginFail}
            cookiePolicy={'single_host_origin'}
          />}

          {loggedInState &amp;&amp; &lt;GoogleLogout
            clientId={CLIENT_ID}
            buttonText="Logout"
            onLogoutSuccess={onLogoutSuccess}
          />}
        &lt;/Navbar.Collapse>
      &lt;/Navbar>

      &lt;header className="App-header">
        {loggedInState &amp;&amp; accessToken &amp;&amp; &lt;TreeViewComponent access_token={accessToken} user_email={userEmail}/>}
      &lt;/header>
    &lt;/div>
  );
}

/**
 * The App module. The root of our React app.
 * @module App
 * */
export default App;
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-App.html">App</a></li><li><a href="module-TreeViewComponent.html">TreeViewComponent</a></li><li><a href="module-TreeViewContent.html">TreeViewContent</a></li></ul><h3>Global</h3><ul><li><a href="global.html#API_KEY">API_KEY</a></li><li><a href="global.html#TreeViewComponent">TreeViewComponent</a></li><li><a href="global.html#TreeViewContent">TreeViewContent</a></li><li><a href="global.html#useStyles">useStyles</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.6</a> on Fri Dec 04 2020 12:42:32 GMT+0200 (Eastern European Standard Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
